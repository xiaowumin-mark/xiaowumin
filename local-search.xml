<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>ç è¯­åº“è®°memoä¾¿ç­¾å®ç°</title>
    <link href="/2024/07/17/%E7%A0%81%E8%AF%AD%E5%BA%93%E8%AE%B0memo%E5%AE%9E%E7%8E%B0/"/>
    <url>/2024/07/17/%E7%A0%81%E8%AF%AD%E5%BA%93%E8%AE%B0memo%E5%AE%9E%E7%8E%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="ç è¯­åº“è®°memoå®ç°"><a href="#ç è¯­åº“è®°memoå®ç°" class="headerlink" title="ç è¯­åº“è®°memoå®ç°"></a>ç è¯­åº“è®°memoå®ç°</h1><h3 id="ç¬¬ä¸€ç‰ˆï¼š"><a href="#ç¬¬ä¸€ç‰ˆï¼š" class="headerlink" title="ç¬¬ä¸€ç‰ˆï¼š"></a>ç¬¬ä¸€ç‰ˆï¼š</h3><p>ä½¿ç”¨markdownä½œä¸ºç¼–è¾‘å™¨ï¼Œæ„Ÿè§‰æœ‰ç‚¹ç‰ºç‰²æ•ˆç‡ï¼Œä¹Ÿä¸æ˜¯æ‰€æœ‰äººéƒ½ä¼šmarkdownçš„ç¼–è¾‘</p><h3 id="ç¬¬äºŒç‰ˆ"><a href="#ç¬¬äºŒç‰ˆ" class="headerlink" title="ç¬¬äºŒç‰ˆ"></a>ç¬¬äºŒç‰ˆ</h3><p>æ‰€ä»¥æˆ‘åˆå‡ºäº†ä¸ªæ–¹æ¡ˆï¼Œä¸ç”¨markdownï¼Œä½¿ç”¨htmlè‡ªå¸¦çš„<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Global_attributes/contenteditable">contenteditable</a>å±æ€§ã€‚å¯ä»¥å°†htmlå˜ä¸ºå¯ç¼–è¾‘å±æ€§ï¼Œå¯ä»¥ç²˜è´´å›¾ç‰‡ï¼Œè¾“å…¥æ–‡å­—ã€‚</p><p>é¦–å…ˆå°†å‡½æ•°å…ˆå°è£…å¥½</p><p><img src="https://pic.imgdb.cn/item/66974401d9c307b7e99a64f3.png"></p><p>è®©åå°†ipcäº‹ä»¶æ³¨å†Œå¥½</p><p><img src="https://pic.imgdb.cn/item/66974444d9c307b7e99af276.png"></p><p>æ•´ä½“é€»è¾‘æ˜¯ï¼š</p><p>åœ¨memoæ–‡ä»¶å¤¹ä¸‹æœ‰ä¸ª<code>config.json</code>é…ç½®æ–‡ä»¶ï¼Œæ ¼å¼å¦‚ä¸‹</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">[</span><br>    <span class="hljs-punctuation">&#123;</span><br>        name<span class="hljs-punctuation">:</span><span class="hljs-string">&quot;&quot;</span><span class="hljs-punctuation">,</span><br>        path<span class="hljs-punctuation">:</span><span class="hljs-string">&quot;&quot;</span><span class="hljs-punctuation">,</span><br>        time<span class="hljs-punctuation">:</span><span class="hljs-string">&quot;unix&quot;</span><span class="hljs-punctuation">,</span><br>        id<span class="hljs-punctuation">:</span><span class="hljs-string">&quot;unix&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span><br>        ...<br>    <span class="hljs-punctuation">&#125;</span><br>        ...<br><span class="hljs-punctuation">]</span><br></code></pre></td></tr></table></figure><p>å…¶ä¸­pathæŒ‡å‘çš„æ˜¯æ–‡ä»¶æœ¬èº«(ç è¯­åº“è®°è¯†åˆ«è‡ªåˆ›çš„æ–‡ä»¶æ ¼å¼<code>.mj</code>)</p><h4 id="ä¸€ä¸ªå°é—®é¢˜"><a href="#ä¸€ä¸ªå°é—®é¢˜" class="headerlink" title="ä¸€ä¸ªå°é—®é¢˜"></a>ä¸€ä¸ªå°é—®é¢˜</h4><p>æˆ‘æ‰“ç®—åœ¨ç¼–è¾‘ä¾¿ç­¾æ—¶æ–°å»ºä¸€ä¸ªçª—å£ï¼Œä½†æ˜¯æƒ³è¦æ‰“å¼€ä¾¿ç­¾ç¼–è¾‘çš„çª—å£éœ€è¦æŒ‡å®šè·¯ç”±</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> win = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BrowserWindow</span>(&#123;<br>    <span class="hljs-attr">width</span>: <span class="hljs-number">800</span>,<br>    <span class="hljs-attr">height</span>: <span class="hljs-number">600</span>,<br>    <span class="hljs-attr">webPreferences</span>: &#123;<br>        <span class="hljs-attr">nodeIntegration</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å…è®¸ä½¿ç”¨node</span><br>        <span class="hljs-attr">contextIsolation</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// å…è®¸ä½¿ç”¨contextBridge</span><br>        <span class="hljs-attr">enableRemoteModule</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å…è®¸ä½¿ç”¨remote</span><br>    &#125;<br>&#125;)<br><span class="hljs-keyword">if</span> (process.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_DEV_SERVER_URL</span>) &#123;<br>    win.<span class="hljs-title function_">loadURL</span>(process.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_DEV_SERVER_URL</span>+<span class="hljs-string">&quot;?page=ememo&quot;</span>)<br>&#125; <span class="hljs-keyword">else</span> &#123;<br>    win.<span class="hljs-title function_">loadFile</span>(<span class="hljs-string">&quot;dist/index.html?page=ememo&quot;</span>)<br>&#125;<br><br>win.<span class="hljs-property">webContents</span>.<span class="hljs-title function_">openDevTools</span>()<br></code></pre></td></tr></table></figure><p>æˆ‘äºæ˜¯æƒ³åˆ°äº†è¿™ä¸ªæ–¹æ³•ï¼ŒæŒ‡å®šqueryå‚æ•°ï¼Œè®©åè®©é¡µé¢è‡ªåŠ¨è·å–ï¼Œè®©åè·³è½¬åˆ°å¯¹åº”çš„é¡µé¢</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./assets/main.css&#x27;</span><br><br><span class="hljs-keyword">import</span> &#123; createApp &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span><br><span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./router&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;mdui/mdui.css&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;mdui&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;mdui/components/icon.js&#x27;</span>;<br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)<br>app.<span class="hljs-title function_">use</span>(router)<br><span class="hljs-comment">// è·å–query pageå‚æ•°</span><br><span class="hljs-keyword">const</span> query = <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">search</span>;<br><span class="hljs-comment">// è·å–queryå‚æ•°ä¸­çš„pageå‚æ•°</span><br><span class="hljs-keyword">const</span> page = <span class="hljs-keyword">new</span> <span class="hljs-title class_">URLSearchParams</span>(query).<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;page&#x27;</span>);<br><br>app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>)<br><br><span class="hljs-keyword">if</span> (page) &#123;<br>    router.<span class="hljs-title function_">push</span>(<span class="hljs-string">&quot;/&quot;</span> + page)<br>&#125;<br></code></pre></td></tr></table></figure><p>å…¶ä¸­é‡åˆ°äº†ä¸€ä¸ªå°é—®é¢˜ï¼ŒèŠ±äº†æˆ‘ä¸€ä¸ªå¤šå°æ—¶</p><p><img src="https://pic.imgdb.cn/item/6697725fd9c307b7e9065a8f.png"></p><p><img src="https://pic.imgdb.cn/item/66977270d9c307b7e9068b9a.png"></p><p>è¿™å°±å¾ˆç¥å¥‡ï¼Œæˆ‘ä¹Ÿæ˜¯åœ¨å“ªæ€€ç–‘æ˜¯ä¸æ˜¯vue-routeræœ‰bugï¼Œåæ¥ä¹Ÿæ˜¯çœ‹åˆ°äº†ä¸€ç¯‡æ–‡ç« <a href="https://blog.csdn.net/Jone_hui/article/details/123041404">https://blog.csdn.net/Jone_hui&#x2F;article&#x2F;details&#x2F;123041404</a></p><p>æ„Ÿè°¢è¿™ä½å¤§å“¥ğŸ™ï¼ï¼</p><p>å› ä¸ºuseRouteæ˜¯å¼‚æ­¥çš„æ‰€ä»¥æœ‰å»¶æ—¶ï¼ï¼</p><p>åªè¦åœ¨main.jsä¸­ç­‰å¾…ä»–åŠ è½½å®Œæˆå°±è¡Œ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">router.<span class="hljs-title function_">isReady</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>))<br></code></pre></td></tr></table></figure><p>ä¹Ÿæ˜¯æœäº†ï¼Œæ•´å¤©è·Ÿbugæ–—æ™ºæ–—å‹‡ã€‚ã€‚ã€‚ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ç è¯­åº“è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç è¯­åº“è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç è¯­åº“è®°çš„å¼€å‘æµç¨‹</title>
    <link href="/2024/07/16/My%20firt%20blog/"/>
    <url>/2024/07/16/My%20firt%20blog/</url>
    
    <content type="html"><![CDATA[<h1 id="ç è¯­åº“è®°çš„åŠŸèƒ½ä»‹ç»ï¼Œå’Œä»¥åŠå®ç°æ–¹æ³•"><a href="#ç è¯­åº“è®°çš„åŠŸèƒ½ä»‹ç»ï¼Œå’Œä»¥åŠå®ç°æ–¹æ³•" class="headerlink" title="ç è¯­åº“è®°çš„åŠŸèƒ½ä»‹ç»ï¼Œå’Œä»¥åŠå®ç°æ–¹æ³•"></a>ç è¯­åº“è®°çš„åŠŸèƒ½ä»‹ç»ï¼Œå’Œä»¥åŠå®ç°æ–¹æ³•</h1><blockquote><p>ç è¯­åº“è®°çš„ä»“åº“åœ°å€ä¸ºï¼š<a href="https://gitee.com/xiaowumin-mark/CodeSpeak-LibraryNotes">ç è¯­åº“è®°</a> </p></blockquote><h2 id="åŠŸèƒ½ä»‹ç»"><a href="#åŠŸèƒ½ä»‹ç»" class="headerlink" title="åŠŸèƒ½ä»‹ç»"></a>åŠŸèƒ½ä»‹ç»</h2><h3 id="å…¨éƒ¨åŠŸèƒ½é¢„è§ˆ"><a href="#å…¨éƒ¨åŠŸèƒ½é¢„è§ˆ" class="headerlink" title="å…¨éƒ¨åŠŸèƒ½é¢„è§ˆ"></a>å…¨éƒ¨åŠŸèƒ½é¢„è§ˆ</h3><ul><li>æœç´¢æ‰€å†™è¿‡çš„æ‰€æœ‰ç¬”è®°ï¼Œä¾¿ç­¾ï¼Œå‡½æ•°åŠŸèƒ½</li><li>ç¬”è®°</li><li>ä¾¿ç­¾ï¼ˆéšè®°ï¼‰</li><li>å‡½æ•°ç¬”è®°</li><li>è®¾ç½®</li></ul><h3 id="æœç´¢"><a href="#æœç´¢" class="headerlink" title="æœç´¢"></a>æœç´¢</h3><p>å®ç°æ–¹å¼ï¼š</p><p>éå†æ‰€æœ‰æ–‡ç« ï¼Œä¾¿ç­¾ï¼ŒæŸ¥æ‰¾æ‰€åŒ¹é…çš„é¡¹ç›®ã€‚</p><blockquote><p>è¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œå°±ä¸å¤šè¯´äº†</p></blockquote><h3 id="ç¬”è®°"><a href="#ç¬”è®°" class="headerlink" title="ç¬”è®°"></a>ç¬”è®°</h3><p>æä¾›æ‰€æœ‰<code>MarkDown</code>åŠŸèƒ½ï¼Œä½¿ç”¨<code>vditor</code>ä½œä¸ºmarkdownç¼–è¾‘å™¨</p><p>æ”¯æŒåŠæ—¶æ¸²æŸ“ï¼Œç±»ä¼¼Typora</p><p>æ”¯æŒç¬”è®°åˆ†ç±»</p><p>æ”¯æŒå¸¸è§„æ“ä½œï¼Œåˆ é™¤ï¼Œé‡å‘½åï¼Œæ–°å»ºï¼Œå¯¼å‡º</p><h3 id="ä¾¿ç­¾"><a href="#ä¾¿ç­¾" class="headerlink" title="ä¾¿ç­¾"></a>ä¾¿ç­¾</h3><p>ä¸ä½¿ç”¨<code>MarkDown</code>ç¼–è¾‘å™¨ï¼Œå› ä¸ºä¾¿ç­¾è®²ç©¶å¿«é€Ÿï¼Œä¾¿æ·</p><p>æ‰€ä»¥åªæ”¯æŒè¾“å…¥æ–‡å­—ï¼ŒåŠ ç²—ï¼Œæ–œä½“ï¼Œç²˜è´´å›¾ç‰‡</p><p>å¯ä»¥ä½¿ç”¨å¿«æ·é”®å¿«é€Ÿå‘¼å‡ºä¾¿ç­¾ï¼Œå¿«é€Ÿå½•å…¥ã€‚</p><p>ä¾¿ç­¾åé»˜è®¤ä¸ºç¬¬ä¸€è¡Œè¾“å…¥çš„å†…å®¹</p><p>æ”¯æŒå¸¸è§„æ“ä½œï¼Œåˆ é™¤ï¼Œé‡å‘½åï¼Œæ–°å»ºï¼Œä¸æ”¯æŒå¯¼å‡º</p><h3 id="å‡½æ•°ç¬”è®°"><a href="#å‡½æ•°ç¬”è®°" class="headerlink" title="å‡½æ•°ç¬”è®°"></a>å‡½æ•°ç¬”è®°</h3><blockquote><p>è§„åˆ’ä¸­â€¦</p></blockquote><h3 id="è®¾ç½®"><a href="#è®¾ç½®" class="headerlink" title="è®¾ç½®"></a>è®¾ç½®</h3><p>é…ç½®æ–‡ä»¶å°†åœ¨ç¬¬ä¸€æ¬¡æ‰“å¼€è½¯ä»¶è‡ªåŠ¨åœ¨<code>C:\User\YourUserName\AppData\Roaming\CodeSpeak-LibraryNotes</code>ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º<code>scln-config.json</code>æ–‡ä»¶</p><p>å…·ä½“å†…å®¹ä¸º</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;xiaowumin &amp; SanWei&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CodeSpeak-LibraryNotes&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CodeSpeak-LibraryNotes&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;warehouse&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;main&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://gitee.com/xiaowumin-mark/CodeSpeak-LibraryNotes&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;releases&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://gitee.com/xiaowumin-mark/CodeSpeak-LibraryNotes/releases&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;all_releases&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://gitee.com/api/v5/repos/xiaowumin-mark/CodeSpeak-LibraryNotes/releases?page=1&amp;per_page=100&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;latest_release&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://gitee.com/api/v5/repos/xiaowumin-mark/CodeSpeak-LibraryNotes/releases/latest&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;note_path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;C:\\Users\\YourUserName\\AppData\\Local\\CodeSpeak-LibraryNotes&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;config_path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;C:\\Users\\YourUserName\\AppData\\Roaming\\CodeSpeak-LibraryNotes\\csln-config.json&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;setting&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;auto_update&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;theme&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;auto&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;color_theme&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;auto&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h2 id="åŠŸèƒ½éš¾ç‚¹ï¼ˆæˆ‘è®¤ä¸ºï¼‰"><a href="#åŠŸèƒ½éš¾ç‚¹ï¼ˆæˆ‘è®¤ä¸ºï¼‰" class="headerlink" title="åŠŸèƒ½éš¾ç‚¹ï¼ˆæˆ‘è®¤ä¸ºï¼‰"></a>åŠŸèƒ½éš¾ç‚¹ï¼ˆæˆ‘è®¤ä¸ºï¼‰</h2><h3 id="ä¸»é¢˜åˆ‡æ¢æ•ˆæœ"><a href="#ä¸»é¢˜åˆ‡æ¢æ•ˆæœ" class="headerlink" title="ä¸»é¢˜åˆ‡æ¢æ•ˆæœ"></a>ä¸»é¢˜åˆ‡æ¢æ•ˆæœ</h3><p>èµ·å› ï¼šbilibiliå®¢æˆ·ç«¯çš„ä¸»é¢˜åˆ‡æ¢æ•ˆæœå¾ˆç‚«é…·ï¼Œä½†æ˜¯ä¸€ç›´æ²¡æœ‰æ€è·¯ã€‚</p><p>å¶ç„¶æœ‰ä¸€å¤©æƒ³èµ·å¯ä»¥ç”¨<code>animate</code>åŠ¨ç”»çš„<code>clip-path</code>å±æ€§ç”»åœ†</p><p>ä½†æ˜¯å› ä¸ºä¸»é¢˜è¦å˜åŠ¨æ‰€ä»¥ç”»åœ†æ—¶æ•´ä¸ªbodyå…ƒç´ æ˜¯è¢«åˆ‡å‰²çš„</p><p>å¶ç„¶æœ‰ä¸€å¤©ï¼ŒçŸ¥é“äº†<code>startViewTransition</code>è¿™ä¸ªapiï¼Œäºæ˜¯ä¸€åˆ‡å°±å˜å¾—é¡ºåˆ©èµ·æ¥äº†</p><p>åªè¦åœ¨<code>document.startViewTransition</code>é‡Œé¢è¿è¡Œæ”¹å˜æ ·å¼çš„ä»£ç ï¼Œè¿™æ ·å°±å¯ä»¥è®©ä¸»é¢˜å˜åŒ–å˜å¾—ä¸é‚£ä¹ˆç”Ÿç¡¬</p><p>ä½†æ˜¯æˆ‘æƒ³è¦çš„æ˜¯ç”»åœ†æ•ˆæœï¼Œå°±å¿…é¡»è¦å°†åŠ¨ç”»åŠ ä¸Šå»</p><p>äºæ˜¯å»çœ‹æ–‡æ¡£<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/startViewTransition">https://developer.mozilla.org/zh-CN/docs/Web/API/Document/startViewTransition</a></p><p>æœ€åå°è£…ä¸ºä¸€ä¸ªå‡½æ•°,è¦ç”¨åˆ°å‹¾è‚¡å®šç†å“¦~</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">changeTheme</span>(<span class="hljs-params">type, if_animate = <span class="hljs-literal">true</span></span>) &#123;<br>    <span class="hljs-keyword">let</span> html = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span><br>    <span class="hljs-comment">//html.classList.add(&quot;all-animate&quot;)</span><br>    <span class="hljs-comment">//console.log(html.classList);</span><br>    <span class="hljs-keyword">const</span> transition = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">startViewTransition</span>(<span class="hljs-title function_">async</span> () =&gt; &#123;<br><br>        <span class="hljs-keyword">let</span> o_type = <span class="hljs-title function_">getThemeType</span>()<br>        <span class="hljs-keyword">if</span> (type == o_type) &#123;<br>            <span class="hljs-keyword">return</span><br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type == <span class="hljs-string">&quot;dark&quot;</span>) &#123;<br>            <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">&#x27;mdui-theme-dark&#x27;</span>)) &#123;<br>                <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;mdui-theme-dark&#x27;</span>)<br>                <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.nav&quot;</span>).<span class="hljs-property">style</span>.<span class="hljs-property">borderRight</span> = <span class="hljs-string">&quot;1px solid rgb(45 45 45)&quot;</span><br>            &#125;<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type == <span class="hljs-string">&quot;light&quot;</span>) &#123;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">&#x27;mdui-theme-dark&#x27;</span>)) &#123;<br>                <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">&#x27;mdui-theme-dark&#x27;</span>)<br>                <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.nav&quot;</span>).<span class="hljs-property">style</span>.<span class="hljs-property">borderRight</span> = <span class="hljs-string">&quot;1px solid rgb(230 230 230)&quot;</span><br>            &#125;<br>        &#125;<br><br>    &#125;);<br>    <span class="hljs-keyword">if</span> (if_animate) &#123;<br><br><br>        <span class="hljs-keyword">const</span> x = event.<span class="hljs-property">pageX</span> || (event.<span class="hljs-property">clientX</span> + <span class="hljs-variable language_">window</span>.<span class="hljs-property">scrollX</span>);<br>        <span class="hljs-keyword">const</span> y = event.<span class="hljs-property">pageY</span> || (event.<span class="hljs-property">clientY</span> + <span class="hljs-variable language_">window</span>.<span class="hljs-property">scrollY</span>);<br>        <span class="hljs-comment">// ä»ç‚¹å‡»ç‚¹åˆ°çª—å£æœ€è¿œè¾¹ç¼˜çš„è·ç¦»ï¼Œè¿™ä¸ªè·ç¦»å³ä¸ºåœ†çš„åŠå¾„ï¼Œç”¨äºç¡®å®šä¸€ä¸ªåœ†å½¢è£å‰ªè·¯å¾„ (clip path) çš„æœ€å¤§å°ºå¯¸ï¼Œä»¥ä¾¿è¦†ç›–æ•´ä¸ªè§†çª—ã€‚</span><br>        <span class="hljs-comment">// å‹¾è‚¡å®šç†ï¼šaÂ² + bÂ² = cÂ²</span><br>        <span class="hljs-keyword">const</span> radius = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(x, (<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> - x)) ** <span class="hljs-number">2</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(y, (<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span> - y)) ** <span class="hljs-number">2</span>)<br>        <span class="hljs-keyword">let</span> clipPath = [<br>            <span class="hljs-string">`circle(0 at <span class="hljs-subst">$&#123;x&#125;</span>px <span class="hljs-subst">$&#123;y&#125;</span>px)`</span>,<br>            <span class="hljs-string">`circle(<span class="hljs-subst">$&#123;radius&#125;</span>px at <span class="hljs-subst">$&#123;x&#125;</span>px <span class="hljs-subst">$&#123;y&#125;</span>px)`</span>,<br>        ]<br>        <span class="hljs-keyword">let</span> is_dark = html.<span class="hljs-property">classList</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">&#x27;mdui-theme-dark&#x27;</span>)<br>        transition.<span class="hljs-property">ready</span>.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>            <span class="hljs-comment">// å®ç°è¿‡æ¸¡çš„è¿‡ç¨‹ circle</span><br>            <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-title function_">animate</span>(<br>                &#123;<br>                    <span class="hljs-attr">clipPath</span>: clipPath,<br>                &#125;,<br>                &#123;<br>                    <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span>,<br>                    <span class="hljs-attr">pseudoElement</span>: <span class="hljs-string">&#x27;::view-transition-new(root)&#x27;</span>,<br>                &#125;<br>            )<br>        &#125;)<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™æ˜¯æœ€ç»ˆçš„æ•ˆæœå›¾ â†“</p><p><img src="https://pic.imgdb.cn/item/6696039ed9c307b7e9892468.png" alt="https://pic.imgdb.cn/item/6696039ed9c307b7e9892468.png"></p><p>è¿™ä¸ªä¸œè¥¿ä¹Ÿæ˜¯èŠ±äº†æˆ‘ä¸€å¤©â€¦â€¦</p>]]></content>
    
    
    <categories>
      
      <category>ç è¯­åº“è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç è¯­åº“è®°</tag>
      
      <tag>ç¬¬ä¸€æ¬¡</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
